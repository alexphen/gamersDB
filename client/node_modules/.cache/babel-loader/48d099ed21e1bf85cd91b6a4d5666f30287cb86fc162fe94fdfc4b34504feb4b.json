{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Plus,Search,Users,Trash2,UserPlus,UserMinus,Database,Eye,Filter,AlertCircle,X,ChevronDown}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const GamesDatabase=()=>{const[games,setGames]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[activeTab,setActiveTab]=useState('view');const[searchTerm,setSearchTerm]=useState('');const[searchGamer,setSearchGamer]=useState('');const[playersLookingToPlay,setPlayersLookingToPlay]=useState([]);const[newGame,setNewGame]=useState({game:'',players:'',gamers:'',newGamerName:''});const[editingGame,setEditingGame]=useState(null);const[showPlayableGames,setShowPlayableGames]=useState(false);const[showGamerDropdown,setShowGamerDropdown]=useState(false);const[showPlayerDropdown,setShowPlayerDropdown]=useState(false);const[selectedGamers,setSelectedGamers]=useState([]);const[newPlayerName,setNewPlayerName]=useState('');// Updated to use Node.js backend\nconst API_BASE_URL=process.env.REACT_APP_API_URL||\"http://localhost:3001/api/games\";// Get all unique gamers from the games\nconst getAllGamers=()=>{const allGamers=games.flatMap(game=>game.gamers);return[...new Set(allGamers)].sort();};// Apply game finder filter - find games that ALL listed players own\nconst applyGameFinder=async()=>{if(playersLookingToPlay.length>0){setShowPlayableGames(true);await fetchGames();}};// Clear game finder filter\nconst clearGameFinder=()=>{setShowPlayableGames(false);setPlayersLookingToPlay([]);fetchGames();};// Add player to the game finder list\nconst addPlayerToFinder=playerName=>{const trimmedName=playerName.trim();if(trimmedName&&!playersLookingToPlay.includes(trimmedName)){setPlayersLookingToPlay([...playersLookingToPlay,trimmedName]);}setNewPlayerName('');};// Remove player from the game finder list\nconst removePlayerFromFinder=playerName=>{setPlayersLookingToPlay(playersLookingToPlay.filter(p=>p!==playerName));};// Add gamer to selected list for new game\nconst addGamerToSelected=gamerName=>{if(!selectedGamers.includes(gamerName)){setSelectedGamers([...selectedGamers,gamerName]);}};// Remove gamer from selected list\nconst removeGamerFromSelected=gamerName=>{setSelectedGamers(selectedGamers.filter(g=>g!==gamerName));};// Add new gamer to selected list\nconst addNewGamerToSelected=()=>{const trimmedName=newGame.newGamerName.trim();if(trimmedName&&!selectedGamers.includes(trimmedName)){setSelectedGamers([...selectedGamers,trimmedName]);setNewGame({...newGame,newGamerName:''});}};// Fetch games from Node.js backend\nconst fetchGames=async()=>{try{setLoading(true);// Choose endpoint based on whether we're filtering for playable games\nconst endpoint=showPlayableGames&&playersLookingToPlay.length>0?`${API_BASE_URL}/playable?players=${encodeURIComponent(playersLookingToPlay.join(','))}`:`${API_BASE_URL}/all`;const response=await fetch(endpoint);if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||'Failed to fetch games');}const data=await response.json();// Transform Node.js response to match our component structure\nconst transformedGames=data.items.map(item=>({id:item.rowid,game:item.game,players:item.players,gamers:item.gamer_list?item.gamer_list.split(',').map(g=>g.trim()).filter(g=>g):[],owners_in_group:item.owners_in_group?item.owners_in_group.split(',').map(g=>g.trim()).filter(g=>g):[]}));setGames(transformedGames);setError(null);}catch(err){console.error('Fetch error:',err);setError(err.message);}finally{setLoading(false);}};// Load games on component mount\nuseEffect(()=>{fetchGames();},[]);// Add new game\nconst addGame=async()=>{if(newGame.game&&newGame.players&&selectedGamers.length>0){try{const response=await fetch(`${API_BASE_URL}/all`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({game:newGame.game,players:parseInt(newGame.players),gamers:selectedGamers.join(',')})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||'Failed to add game');}setNewGame({game:'',players:'',gamers:'',newGamerName:''});setSelectedGamers([]);fetchGames();// Refresh the list\n}catch(err){console.error('Add game error:',err);setError(err.message);}}};// Delete game\nconst deleteGame=async id=>{try{const response=await fetch(`${API_BASE_URL}/game/${id}`,{method:'DELETE'});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||'Failed to delete game');}fetchGames();// Refresh the list\n}catch(err){console.error('Delete game error:',err);setError(err.message);}};// Add gamer to game\nconst addGamerToGame=async(gameId,gamerName)=>{if(gamerName.trim()){try{const response=await fetch(`${API_BASE_URL}/game/${gameId}/gamers`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({gamer_name:gamerName.trim()})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||'Failed to add gamer');}fetchGames();// Refresh the list\n}catch(err){console.error('Add gamer error:',err);setError(err.message);}}};// Remove gamer from game\nconst removeGamerFromGame=async(gameId,gamerName)=>{try{const response=await fetch(`${API_BASE_URL}/game/${gameId}/gamers`,{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({gamer_name:gamerName})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||'Failed to remove gamer');}fetchGames();// Refresh the list\n}catch(err){console.error('Remove gamer error:',err);setError(err.message);}};// Filter games (client-side for basic search, server-side for playable games)\nconst filteredGames=games.filter(game=>{const matchesSearch=game.game.toLowerCase().includes(searchTerm.toLowerCase());const matchesGamer=!searchGamer||game.gamers.some(gamer=>gamer.toLowerCase().includes(searchGamer.toLowerCase()));// If we're showing playable games, filter for games that ALL selected players own\nif(showPlayableGames&&playersLookingToPlay.length>0){const gameOwners=game.gamers;const allPlayersOwnGame=playersLookingToPlay.every(player=>gameOwners.includes(player));return matchesSearch&&matchesGamer&&allPlayersOwnGame;}return matchesSearch&&matchesGamer;});const GameCard=_ref=>{let{game}=_ref;const[newGamer,setNewGamer]=useState('');// Check if this game can be played by the specified group\nlet canPlayWithGroup=false;if(showPlayableGames&&playersLookingToPlay.length>0){canPlayWithGroup=playersLookingToPlay.every(player=>game.gamers.includes(player));}return/*#__PURE__*/_jsxs(\"div\",{className:`bg-gray-800 rounded-lg shadow-md p-6 border-l-4 transition-all duration-200 hover:shadow-lg ${showPlayableGames&&canPlayWithGroup?'border-green-500':'border-blue-500'}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white\",children:game.game}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1 text-gray-300\",children:[/*#__PURE__*/_jsx(Users,{size:16}),\"Max Players: \",game.players]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1 text-green-600\",children:[/*#__PURE__*/_jsx(Database,{size:16}),\"Owners: \",game.gamers.length]}),showPlayableGames&&canPlayWithGroup&&/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm font-medium\",children:\"\\u2713 All Players Own This Game\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteGame(game.id),className:\"text-red-500 hover:text-red-700 p-1 transition-colors\",title:\"Delete game\",children:/*#__PURE__*/_jsx(Trash2,{size:18})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-300 mb-2\",children:\"Game Owners:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:game.gamers.length>0?game.gamers.map((gamer,index)=>/*#__PURE__*/_jsxs(\"span\",{className:`px-3 py-1 rounded-full text-sm flex items-center gap-1 ${showPlayableGames&&playersLookingToPlay.includes(gamer)?'bg-green-100 text-green-800':'bg-blue-100 text-blue-800'}`,children:[gamer,/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeGamerFromGame(game.id,gamer),className:\"text-red-500 hover:text-red-700 ml-1 transition-colors\",title:\"Remove gamer\",children:/*#__PURE__*/_jsx(UserMinus,{size:14})})]},index)):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-sm\",children:\"No owners yet\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add new gamer...\",value:newGamer,onChange:e=>setNewGamer(e.target.value),className:\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",onKeyPress:e=>{if(e.key==='Enter'){addGamerToGame(game.id,newGamer);setNewGamer('');}}}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{addGamerToGame(game.id,newGamer);setNewGamer('');},className:\"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 flex items-center gap-1 transition-colors\",children:[/*#__PURE__*/_jsx(UserPlus,{size:16}),\"Add\"]})]})]});};// Multi-select dropdown for gamers\nconst GamerMultiSelect=_ref2=>{let{availableGamers,selectedGamers,onAdd,onRemove,placeholder}=_ref2;const[isOpen,setIsOpen]=useState(false);const availableToAdd=availableGamers.filter(gamer=>!selectedGamers.includes(gamer));return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-300 rounded-md p-2 min-h-[42px] cursor-pointer\",onClick:()=>setIsOpen(!isOpen),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:selectedGamers.length>0?selectedGamers.map(gamer=>/*#__PURE__*/_jsxs(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm flex items-center gap-1\",children:[gamer,/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onRemove(gamer);},className:\"text-red-500 hover:text-red-700\",children:/*#__PURE__*/_jsx(X,{size:12})})]},gamer)):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:placeholder})}),/*#__PURE__*/_jsx(ChevronDown,{size:16,className:\"absolute right-2 top-3 text-gray-500\"})]}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-40 overflow-y-auto\",children:availableToAdd.length>0?availableToAdd.map(gamer=>/*#__PURE__*/_jsx(\"div\",{className:\"p-2 hover:bg-gray-100 cursor-pointer\",onClick:()=>{onAdd(gamer);setIsOpen(false);},children:gamer},gamer)):/*#__PURE__*/_jsx(\"div\",{className:\"p-2 text-gray-500\",children:\"No more gamers to add\"})})]});};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-900 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-white mb-8 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Database,{size:32}),\"Games Database Manager\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex mb-6 bg-gray-800 rounded-lg shadow-md p-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('view'),className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 transition-colors ${activeTab==='view'?'bg-blue-500 text-white':'text-gray-600 hover:bg-gray-100'}`,children:[/*#__PURE__*/_jsx(Eye,{size:16}),\"View Games\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('add'),className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 transition-colors ${activeTab==='add'?'bg-blue-500 text-white':'text-gray-600 hover:bg-gray-100'}`,children:[/*#__PURE__*/_jsx(Plus,{size:16}),\"Add Game\"]})]}),activeTab==='view'&&/*#__PURE__*/_jsxs(\"div\",{children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-900 border border-red-600 text-red-200 px-4 py-3 rounded mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",error]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(null),className:\"text-red-500 hover:text-red-700 text-xl\",children:\"\\xD7\"})]}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-300\",children:\"Loading games...\"})]}),!loading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg shadow-md p-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Search by Game Name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-3 h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search games...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-3 py-2 border border-gray-600 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Search by Gamer Name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Users,{className:\"absolute left-3 top-3 h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search gamers...\",value:searchGamer,onChange:e=>setSearchGamer(e.target.value),className:\"w-full pl-10 pr-3 py-2 border border-gray-600 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",children:[/*#__PURE__*/_jsx(Filter,{size:16,className:\"text-green-600\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-white\",children:\"Game Finder\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Players Looking to Play Together\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[playersLookingToPlay.map(player=>/*#__PURE__*/_jsxs(\"span\",{className:\"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm flex items-center gap-1\",children:[player,/*#__PURE__*/_jsx(\"button\",{onClick:()=>removePlayerFromFinder(player),className:\"text-red-500 hover:text-red-700\",children:/*#__PURE__*/_jsx(X,{size:12})})]},player)),playersLookingToPlay.length===0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-sm\",children:\"No players selected\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Select Existing Players\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-300 rounded-md p-3 max-h-40 overflow-y-auto\",children:getAllGamers().filter(gamer=>!playersLookingToPlay.includes(gamer)).length>0?getAllGamers().filter(gamer=>!playersLookingToPlay.includes(gamer)).map(gamer=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 mb-2 cursor-pointer hover:bg-gray-900 p-1 rounded\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:e=>{if(e.target.checked){addPlayerToFinder(gamer);}},className:\"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-300\",children:gamer})]},gamer)):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-sm\",children:\"No available players\"})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:applyGameFinder,disabled:playersLookingToPlay.length===0,className:\"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2 transition-colors\",children:[/*#__PURE__*/_jsx(Filter,{size:16}),\"Find Games All Players Own\"]}),showPlayableGames&&/*#__PURE__*/_jsx(\"button\",{onClick:clearGameFinder,className:\"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 flex items-center gap-2 transition-colors\",children:\"Clear Filter\"})]})]}),showPlayableGames&&playersLookingToPlay.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 p-3 bg-green-50 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Showing games that ALL of these players own:\"}),\" \",playersLookingToPlay.join(', ')]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 mt-4\",children:[\"Showing \",filteredGames.length,\" of \",games.length,\" games\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:filteredGames.map(game=>/*#__PURE__*/_jsx(GameCard,{game:game},game.id))}),filteredGames.length===0&&games.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Database,{size:48,className:\"mx-auto text-gray-500 mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No games found. Add some games to get started!\"})]}),filteredGames.length===0&&games.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Search,{size:48,className:\"mx-auto text-gray-500 mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No games found matching your criteria.\"})]})]})]}),activeTab==='add'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-6\",children:\"Add New Game\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Game Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter game name...\",value:newGame.game,onChange:e=>setNewGame({...newGame,game:e.target.value}),className:\"w-full px-3 py-2 border border-gray-600 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-1\",children:\"Max Players\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:\"20\",placeholder:\"Enter max players...\",value:newGame.players,onChange:e=>setNewGame({...newGame,players:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Game Owners\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[selectedGamers.map(gamer=>/*#__PURE__*/_jsxs(\"span\",{className:\"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center gap-1\",children:[gamer,/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeGamerFromSelected(gamer),className:\"text-red-500 hover:text-red-700\",children:/*#__PURE__*/_jsx(X,{size:12})})]},gamer)),selectedGamers.length===0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-sm\",children:\"No owners selected\"})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Select Existing Players\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-300 rounded-md p-3 max-h-40 overflow-y-auto\",children:[getAllGamers().filter(gamer=>!selectedGamers.includes(gamer)).map(gamer=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 mb-2 cursor-pointer hover:bg-gray-50 p-1 rounded\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:e=>{if(e.target.checked){addGamerToSelected(gamer);}},className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:gamer})]},gamer)),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2 mb-2 p-1 rounded border-t pt-2 mt-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 flex-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter new gamer name...\",value:newGame.newGamerName,onChange:e=>setNewGame({...newGame,newGamerName:e.target.value}),className:\"flex-1 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\",onKeyPress:e=>{if(e.key==='Enter'){addNewGamerToSelected();}}}),/*#__PURE__*/_jsxs(\"button\",{onClick:addNewGamerToSelected,disabled:!newGame.newGamerName.trim(),className:\"bg-blue-500 text-white px-2 py-1 rounded-md hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-1 text-sm\",children:[/*#__PURE__*/_jsx(Plus,{size:14}),\"Add\"]})]})})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-2\",children:\"Select from existing gamers or add new ones. At least one owner is required.\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:addGame,disabled:!newGame.game||!newGame.players||selectedGamers.length===0,className:\"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{size:16}),\"Add Game\"]})]})]})]})});};export default GamesDatabase;","map":{"version":3,"names":["React","useState","useEffect","Plus","Search","Users","Trash2","UserPlus","UserMinus","Database","Eye","Filter","AlertCircle","X","ChevronDown","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GamesDatabase","games","setGames","loading","setLoading","error","setError","activeTab","setActiveTab","searchTerm","setSearchTerm","searchGamer","setSearchGamer","playersLookingToPlay","setPlayersLookingToPlay","newGame","setNewGame","game","players","gamers","newGamerName","editingGame","setEditingGame","showPlayableGames","setShowPlayableGames","showGamerDropdown","setShowGamerDropdown","showPlayerDropdown","setShowPlayerDropdown","selectedGamers","setSelectedGamers","newPlayerName","setNewPlayerName","API_BASE_URL","process","env","REACT_APP_API_URL","getAllGamers","allGamers","flatMap","Set","sort","applyGameFinder","length","fetchGames","clearGameFinder","addPlayerToFinder","playerName","trimmedName","trim","includes","removePlayerFromFinder","filter","p","addGamerToSelected","gamerName","removeGamerFromSelected","g","addNewGamerToSelected","endpoint","encodeURIComponent","join","response","fetch","ok","errorData","json","Error","data","transformedGames","items","map","item","id","rowid","gamer_list","split","owners_in_group","err","console","message","addGame","method","headers","body","JSON","stringify","parseInt","deleteGame","addGamerToGame","gameId","gamer_name","removeGamerFromGame","filteredGames","matchesSearch","toLowerCase","matchesGamer","some","gamer","gameOwners","allPlayersOwnGame","every","player","GameCard","_ref","newGamer","setNewGamer","canPlayWithGroup","className","children","size","onClick","title","index","type","placeholder","value","onChange","e","target","onKeyPress","key","GamerMultiSelect","_ref2","availableGamers","onAdd","onRemove","isOpen","setIsOpen","availableToAdd","stopPropagation","checked","disabled","min","max"],"sources":["C:/Users/aphen/OneDrive/Documents/GamersDB/gamers_db/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Plus, Search, Users, Trash2, UserPlus, UserMinus, Database, Eye, Filter, AlertCircle, X, ChevronDown } from 'lucide-react';\r\n\r\nconst GamesDatabase = () => {\r\n  const [games, setGames] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('view');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchGamer, setSearchGamer] = useState('');\r\n  const [playersLookingToPlay, setPlayersLookingToPlay] = useState([]);\r\n  const [newGame, setNewGame] = useState({ game: '', players: '', gamers: '', newGamerName: '' });\r\n  const [editingGame, setEditingGame] = useState(null);\r\n  const [showPlayableGames, setShowPlayableGames] = useState(false);\r\n  const [showGamerDropdown, setShowGamerDropdown] = useState(false);\r\n  const [showPlayerDropdown, setShowPlayerDropdown] = useState(false);\r\n  const [selectedGamers, setSelectedGamers] = useState([]);\r\n  const [newPlayerName, setNewPlayerName] = useState('');\r\n\r\n  // Updated to use Node.js backend\r\n  const API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:3001/api/games\";\r\n\r\n  // Get all unique gamers from the games\r\n  const getAllGamers = () => {\r\n    const allGamers = games.flatMap(game => game.gamers);\r\n    return [...new Set(allGamers)].sort();\r\n  };\r\n\r\n  // Apply game finder filter - find games that ALL listed players own\r\n  const applyGameFinder = async () => {\r\n    if (playersLookingToPlay.length > 0) {\r\n      setShowPlayableGames(true);\r\n      await fetchGames();\r\n    }\r\n  };\r\n\r\n  // Clear game finder filter\r\n  const clearGameFinder = () => {\r\n    setShowPlayableGames(false);\r\n    setPlayersLookingToPlay([]);\r\n    fetchGames();\r\n  };\r\n\r\n  // Add player to the game finder list\r\n  const addPlayerToFinder = (playerName) => {\r\n    const trimmedName = playerName.trim();\r\n    if (trimmedName && !playersLookingToPlay.includes(trimmedName)) {\r\n      setPlayersLookingToPlay([...playersLookingToPlay, trimmedName]);\r\n    }\r\n    setNewPlayerName('');\r\n  };\r\n\r\n  // Remove player from the game finder list\r\n  const removePlayerFromFinder = (playerName) => {\r\n    setPlayersLookingToPlay(playersLookingToPlay.filter(p => p !== playerName));\r\n  };\r\n\r\n  // Add gamer to selected list for new game\r\n  const addGamerToSelected = (gamerName) => {\r\n    if (!selectedGamers.includes(gamerName)) {\r\n      setSelectedGamers([...selectedGamers, gamerName]);\r\n    }\r\n  };\r\n\r\n  // Remove gamer from selected list\r\n  const removeGamerFromSelected = (gamerName) => {\r\n    setSelectedGamers(selectedGamers.filter(g => g !== gamerName));\r\n  };\r\n\r\n  // Add new gamer to selected list\r\n  const addNewGamerToSelected = () => {\r\n    const trimmedName = newGame.newGamerName.trim();\r\n    if (trimmedName && !selectedGamers.includes(trimmedName)) {\r\n      setSelectedGamers([...selectedGamers, trimmedName]);\r\n      setNewGame({ ...newGame, newGamerName: '' });\r\n    }\r\n  };\r\n\r\n  // Fetch games from Node.js backend\r\n  const fetchGames = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Choose endpoint based on whether we're filtering for playable games\r\n      const endpoint = showPlayableGames && playersLookingToPlay.length > 0\r\n        ? `${API_BASE_URL}/playable?players=${encodeURIComponent(playersLookingToPlay.join(','))}`\r\n        : `${API_BASE_URL}/all`;\r\n        \r\n      const response = await fetch(endpoint);\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to fetch games');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      // Transform Node.js response to match our component structure\r\n      const transformedGames = data.items.map(item => ({\r\n        id: item.rowid,\r\n        game: item.game,\r\n        players: item.players,\r\n        gamers: item.gamer_list ? item.gamer_list.split(',').map(g => g.trim()).filter(g => g) : [],\r\n        owners_in_group: item.owners_in_group ? item.owners_in_group.split(',').map(g => g.trim()).filter(g => g) : []\r\n      }));\r\n      \r\n      setGames(transformedGames);\r\n      setError(null);\r\n      \r\n    } catch (err) {\r\n      console.error('Fetch error:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Load games on component mount\r\n  useEffect(() => {\r\n    fetchGames();\r\n  }, []);\r\n\r\n  // Add new game\r\n  const addGame = async () => {\r\n    if (newGame.game && newGame.players && selectedGamers.length > 0) {\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/all`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            game: newGame.game,\r\n            players: parseInt(newGame.players),\r\n            gamers: selectedGamers.join(',')\r\n          })\r\n        });\r\n        \r\n        if (!response.ok) {\r\n          const errorData = await response.json();\r\n          throw new Error(errorData.error || 'Failed to add game');\r\n        }\r\n        \r\n        setNewGame({ game: '', players: '', gamers: '', newGamerName: '' });\r\n        setSelectedGamers([]);\r\n        fetchGames(); // Refresh the list\r\n        \r\n      } catch (err) {\r\n        console.error('Add game error:', err);\r\n        setError(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Delete game\r\n  const deleteGame = async (id) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/game/${id}`, {\r\n        method: 'DELETE'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to delete game');\r\n      }\r\n      \r\n      fetchGames(); // Refresh the list\r\n\r\n    } catch (err) {\r\n      console.error('Delete game error:', err);\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  // Add gamer to game\r\n  const addGamerToGame = async (gameId, gamerName) => {\r\n    if (gamerName.trim()) {\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/game/${gameId}/gamers`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            gamer_name: gamerName.trim()\r\n          })\r\n        });\r\n        \r\n        if (!response.ok) {\r\n          const errorData = await response.json();\r\n          throw new Error(errorData.error || 'Failed to add gamer');\r\n        }\r\n        \r\n        fetchGames(); // Refresh the list\r\n        \r\n      } catch (err) {\r\n        console.error('Add gamer error:', err);\r\n        setError(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Remove gamer from game\r\n  const removeGamerFromGame = async (gameId, gamerName) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/game/${gameId}/gamers`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          gamer_name: gamerName\r\n        })\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to remove gamer');\r\n      }\r\n      \r\n      fetchGames(); // Refresh the list\r\n    \r\n    } catch (err) {\r\n      console.error('Remove gamer error:', err);\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  // Filter games (client-side for basic search, server-side for playable games)\r\n  const filteredGames = games.filter(game => {\r\n    const matchesSearch = game.game.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesGamer = !searchGamer || game.gamers.some(gamer => \r\n      gamer.toLowerCase().includes(searchGamer.toLowerCase())\r\n    );\r\n    \r\n    // If we're showing playable games, filter for games that ALL selected players own\r\n    if (showPlayableGames && playersLookingToPlay.length > 0) {\r\n      const gameOwners = game.gamers;\r\n      const allPlayersOwnGame = playersLookingToPlay.every(player => \r\n        gameOwners.includes(player)\r\n      );\r\n      return matchesSearch && matchesGamer && allPlayersOwnGame;\r\n    }\r\n    \r\n    return matchesSearch && matchesGamer;\r\n  });\r\n\r\n  const GameCard = ({ game }) => {\r\n    const [newGamer, setNewGamer] = useState('');\r\n    \r\n    // Check if this game can be played by the specified group\r\n    let canPlayWithGroup = false;\r\n    if (showPlayableGames && playersLookingToPlay.length > 0) {\r\n      canPlayWithGroup = playersLookingToPlay.every(player => \r\n        game.gamers.includes(player)\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className={`bg-gray-800 rounded-lg shadow-md p-6 border-l-4 transition-all duration-200 hover:shadow-lg ${\r\n        showPlayableGames && canPlayWithGroup ? 'border-green-500' : 'border-blue-500'\r\n      }`}>\r\n        <div className=\"flex justify-between items-start mb-4\">\r\n          <div>\r\n            <h3 className=\"text-xl font-bold text-white\">{game.game}</h3>\r\n            <div className=\"flex items-center gap-4 mt-2\">\r\n              <span className=\"flex items-center gap-1 text-gray-300\">\r\n                <Users size={16} />\r\n                Max Players: {game.players}\r\n              </span>\r\n              <span className=\"flex items-center gap-1 text-green-600\">\r\n                <Database size={16} />\r\n                Owners: {game.gamers.length}\r\n              </span>\r\n              {showPlayableGames && canPlayWithGroup && (\r\n                <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm font-medium\">\r\n                  ✓ All Players Own This Game\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={() => deleteGame(game.id)}\r\n            className=\"text-red-500 hover:text-red-700 p-1 transition-colors\"\r\n            title=\"Delete game\"\r\n          >\r\n            <Trash2 size={18} />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <h4 className=\"font-semibold text-gray-300 mb-2\">Game Owners:</h4>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {game.gamers.length > 0 ? (\r\n              game.gamers.map((gamer, index) => (\r\n                <span\r\n                  key={index}\r\n                  className={`px-3 py-1 rounded-full text-sm flex items-center gap-1 ${\r\n                    showPlayableGames && playersLookingToPlay.includes(gamer)\r\n                      ? 'bg-green-100 text-green-800'\r\n                      : 'bg-blue-100 text-blue-800'\r\n                  }`}\r\n                >\r\n                  {gamer}\r\n                  <button\r\n                    onClick={() => removeGamerFromGame(game.id, gamer)}\r\n                    className=\"text-red-500 hover:text-red-700 ml-1 transition-colors\"\r\n                    title=\"Remove gamer\"\r\n                  >\r\n                    <UserMinus size={14} />\r\n                  </button>\r\n                </span>\r\n              ))\r\n            ) : (\r\n              <span className=\"text-gray-500 text-sm\">No owners yet</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex gap-2\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Add new gamer...\"\r\n            value={newGamer}\r\n            onChange={(e) => setNewGamer(e.target.value)}\r\n            className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            onKeyPress={(e) => {\r\n              if (e.key === 'Enter') {\r\n                addGamerToGame(game.id, newGamer);\r\n                setNewGamer('');\r\n              }\r\n            }}\r\n          />\r\n          <button\r\n            onClick={() => {\r\n              addGamerToGame(game.id, newGamer);\r\n              setNewGamer('');\r\n            }}\r\n            className=\"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 flex items-center gap-1 transition-colors\"\r\n          >\r\n            <UserPlus size={16} />\r\n            Add\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Multi-select dropdown for gamers\r\n  const GamerMultiSelect = ({ availableGamers, selectedGamers, onAdd, onRemove, placeholder }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const availableToAdd = availableGamers.filter(gamer => !selectedGamers.includes(gamer));\r\n\r\n    return (\r\n      <div className=\"relative\">\r\n        <div className=\"border border-gray-300 rounded-md p-2 min-h-[42px] cursor-pointer\" onClick={() => setIsOpen(!isOpen)}>\r\n          <div className=\"flex flex-wrap gap-1\">\r\n            {selectedGamers.length > 0 ? (\r\n              selectedGamers.map(gamer => (\r\n                <span key={gamer} className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm flex items-center gap-1\">\r\n                  {gamer}\r\n                  <button\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      onRemove(gamer);\r\n                    }}\r\n                    className=\"text-red-500 hover:text-red-700\"\r\n                  >\r\n                    <X size={12} />\r\n                  </button>\r\n                </span>\r\n              ))\r\n            ) : (\r\n              <span className=\"text-gray-500\">{placeholder}</span>\r\n            )}\r\n          </div>\r\n          <ChevronDown size={16} className=\"absolute right-2 top-3 text-gray-500\" />\r\n        </div>\r\n        \r\n        {isOpen && (\r\n          <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-40 overflow-y-auto\">\r\n            {availableToAdd.length > 0 ? (\r\n              availableToAdd.map(gamer => (\r\n                <div\r\n                  key={gamer}\r\n                  className=\"p-2 hover:bg-gray-100 cursor-pointer\"\r\n                  onClick={() => {\r\n                    onAdd(gamer);\r\n                    setIsOpen(false);\r\n                  }}\r\n                >\r\n                  {gamer}\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div className=\"p-2 text-gray-500\">No more gamers to add</div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900 p-6\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        <h1 className=\"text-3xl font-bold text-white mb-8 flex items-center gap-2\">\r\n          <Database size={32} />\r\n          Games Database Manager\r\n        </h1>\r\n\r\n        {/* Navigation Tabs */}\r\n        <div className=\"flex mb-6 bg-gray-800 rounded-lg shadow-md p-1\">\r\n          <button\r\n            onClick={() => setActiveTab('view')}\r\n            className={`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 transition-colors ${\r\n              activeTab === 'view' ? 'bg-blue-500 text-white' : 'text-gray-600 hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            <Eye size={16} />\r\n            View Games\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('add')}\r\n            className={`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 transition-colors ${\r\n              activeTab === 'add' ? 'bg-blue-500 text-white' : 'text-gray-600 hover:bg-gray-100'\r\n            }`}     \r\n          >\r\n            <Plus size={16} />\r\n            Add Game\r\n          </button>\r\n        </div>\r\n\r\n        {/* View Games Tab */}\r\n        {activeTab === 'view' && (\r\n          <div>\r\n            {/* Error Display */}\r\n            {error && (\r\n              <div className=\"bg-red-900 border border-red-600 text-red-200 px-4 py-3 rounded mb-4 flex items-center gap-2\">\r\n                <AlertCircle size={16} />\r\n                <div className=\"flex-1\">\r\n                  <strong>Error:</strong> {error}\r\n                </div>\r\n                <button \r\n                  onClick={() => setError(null)}\r\n                  className=\"text-red-500 hover:text-red-700 text-xl\"\r\n                >\r\n                  ×\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {/* Loading State */}\r\n            {loading && (\r\n              <div className=\"text-center py-8\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"></div>\r\n                <p className=\"mt-2 text-gray-300\">Loading games...</p>\r\n              </div>\r\n            )}\r\n\r\n            {!loading && (\r\n              <>\r\n                {/* Search and Filter Controls */}\r\n                <div className=\"bg-gray-800 rounded-lg shadow-md p-4 mb-6\">\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-300 mb-1\">\r\n                        Search by Game Name\r\n                      </label>\r\n                      <div className=\"relative\">\r\n                        <Search className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Search games...\"\r\n                          value={searchTerm}\r\n                          onChange={(e) => setSearchTerm(e.target.value)}\r\n                          className=\"w-full pl-10 pr-3 py-2 border border-gray-600 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-300 mb-1\">\r\n                        Search by Gamer Name\r\n                      </label>\r\n                      <div className=\"relative\">\r\n                        <Users className=\"absolute left-3 top-3 h-4 w-4 text-gray-500\" />\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Search gamers...\"\r\n                          value={searchGamer}\r\n                          onChange={(e) => setSearchGamer(e.target.value)}\r\n                          className=\"w-full pl-10 pr-3 py-2 border border-gray-600 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Game Finder Section */}\r\n                  <div className=\"border-t pt-4\">\r\n                    <div className=\"flex items-center gap-2 mb-3\">\r\n                      <Filter size={16} className=\"text-green-600\" />\r\n                      <h3 className=\"text-lg font-medium text-white\">Game Finder</h3>\r\n                    </div>\r\n                    \r\n                    <div className=\"space-y-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                          Players Looking to Play Together\r\n                        </label>\r\n                        \r\n                        {/* Selected Players */}\r\n                        <div className=\"mb-3\">\r\n                          <div className=\"flex flex-wrap gap-2\">\r\n                            {playersLookingToPlay.map(player => (\r\n                              <span key={player} className=\"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm flex items-center gap-1\">\r\n                                {player}\r\n                                <button\r\n                                  onClick={() => removePlayerFromFinder(player)}\r\n                                  className=\"text-red-500 hover:text-red-700\"\r\n                                >\r\n                                  <X size={12} />\r\n                                </button>\r\n                              </span>\r\n                            ))}\r\n                            {playersLookingToPlay.length === 0 && (\r\n                              <span className=\"text-gray-500 text-sm\">No players selected</span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        {/* Add Players */}\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                          <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                              Select Existing Players\r\n                            </label>\r\n                            <div className=\"border border-gray-300 rounded-md p-3 max-h-40 overflow-y-auto\">\r\n                              {getAllGamers().filter(gamer => !playersLookingToPlay.includes(gamer)).length > 0 ? (\r\n                                getAllGamers().filter(gamer => !playersLookingToPlay.includes(gamer)).map(gamer => (\r\n                                  <label key={gamer} className=\"flex items-center space-x-2 mb-2 cursor-pointer hover:bg-gray-900 p-1 rounded\">\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      onChange={(e) => {\r\n                                        if (e.target.checked) {\r\n                                          addPlayerToFinder(gamer);\r\n                                        }\r\n                                      }}\r\n                                      className=\"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded\"\r\n                                    />\r\n                                    <span className=\"text-sm text-gray-300\">{gamer}</span>\r\n                                  </label>\r\n                                ))\r\n                              ) : (\r\n                                <span className=\"text-gray-500 text-sm\">No available players</span>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex gap-2\">\r\n                        <button\r\n                          onClick={applyGameFinder}\r\n                          disabled={playersLookingToPlay.length === 0}\r\n                          className=\"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2 transition-colors\"\r\n                        >\r\n                          <Filter size={16} />\r\n                          Find Games All Players Own\r\n                        </button>\r\n                        {showPlayableGames && (\r\n                          <button\r\n                            onClick={clearGameFinder}\r\n                            className=\"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 flex items-center gap-2 transition-colors\"\r\n                          >\r\n                            Clear Filter\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {showPlayableGames && playersLookingToPlay.length > 0 && (\r\n                      <div className=\"mt-3 p-3 bg-green-50 rounded-md\">\r\n                        <p className=\"text-sm text-green-800\">\r\n                          <strong>Showing games that ALL of these players own:</strong> {playersLookingToPlay.join(', ')}\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"text-sm text-gray-500 mt-4\">\r\n                    Showing {filteredGames.length} of {games.length} games\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Games Grid */}\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                  {filteredGames.map(game => (\r\n                    <GameCard key={game.id} game={game} />\r\n                  ))}\r\n                </div>\r\n\r\n                {filteredGames.length === 0 && games.length === 0 && (\r\n                  <div className=\"text-center py-12\">\r\n                    <Database size={48} className=\"mx-auto text-gray-500 mb-4\" />\r\n                    <p className=\"text-gray-500\">No games found. Add some games to get started!</p>\r\n                  </div>\r\n                )}\r\n\r\n                {filteredGames.length === 0 && games.length > 0 && (\r\n                  <div className=\"text-center py-12\">\r\n                    <Search size={48} className=\"mx-auto text-gray-500 mb-4\" />\r\n                    <p className=\"text-gray-500\">No games found matching your criteria.</p>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Add Game Tab */}\r\n        {activeTab === 'add' && (\r\n          <div className=\"bg-gray-800 rounded-lg shadow-md p-6\">\r\n            <h2 className=\"text-2xl font-bold text-white mb-6\">Add New Game</h2>\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">\r\n                  Game Name\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Enter game name...\"\r\n                  value={newGame.game}\r\n                  onChange={(e) => setNewGame({ ...newGame, game: e.target.value })}\r\n                  className=\"w-full px-3 py-2 border border-gray-600 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">\r\n                  Max Players\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  max=\"20\"\r\n                  placeholder=\"Enter max players...\"\r\n                  value={newGame.players}\r\n                  onChange={(e) => setNewGame({ ...newGame, players: e.target.value })}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Game Owners\r\n                </label>\r\n                \r\n                {/* Selected Gamers Display */}\r\n                <div className=\"mb-3\">\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {selectedGamers.map(gamer => (\r\n                      <span key={gamer} className=\"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center gap-1\">\r\n                        {gamer}\r\n                        <button\r\n                          onClick={() => removeGamerFromSelected(gamer)}\r\n                          className=\"text-red-500 hover:text-red-700\"\r\n                        >\r\n                          <X size={12} />\r\n                        </button>\r\n                      </span>\r\n                    ))}\r\n                    {selectedGamers.length === 0 && (\r\n                      <span className=\"text-gray-500 text-sm\">No owners selected</span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Add Players */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Select Existing Players\r\n                  </label>\r\n                  <div className=\"border border-gray-300 rounded-md p-3 max-h-40 overflow-y-auto\">\r\n                    {getAllGamers().filter(gamer => !selectedGamers.includes(gamer)).map(gamer => (\r\n                      <label key={gamer} className=\"flex items-center space-x-2 mb-2 cursor-pointer hover:bg-gray-50 p-1 rounded\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          onChange={(e) => {\r\n                            if (e.target.checked) {\r\n                              addGamerToSelected(gamer);\r\n                            }\r\n                          }}\r\n                          className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                        />\r\n                        <span className=\"text-sm text-gray-700\">{gamer}</span>\r\n                      </label>\r\n                    ))}\r\n                    \r\n                    {/* Add New Gamer as last entry */}\r\n                    <div className=\"flex items-center space-x-2 mb-2 p-1 rounded border-t pt-2 mt-2\">\r\n                      <div className=\"flex gap-2 flex-1\">\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Enter new gamer name...\"\r\n                          value={newGame.newGamerName}\r\n                          onChange={(e) => setNewGame({ ...newGame, newGamerName: e.target.value })}\r\n                          className=\"flex-1 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\r\n                          onKeyPress={(e) => {\r\n                            if (e.key === 'Enter') {\r\n                              addNewGamerToSelected();\r\n                            }\r\n                          }}\r\n                        />\r\n                        <button\r\n                          onClick={addNewGamerToSelected}\r\n                          disabled={!newGame.newGamerName.trim()}\r\n                          className=\"bg-blue-500 text-white px-2 py-1 rounded-md hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-1 text-sm\"\r\n                        >\r\n                          <Plus size={14} />\r\n                          Add\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <p className=\"text-sm text-gray-500 mt-2\">\r\n                  Select from existing gamers or add new ones. At least one owner is required.\r\n                </p>\r\n              </div>\r\n              \r\n              <button\r\n                onClick={addGame}\r\n                disabled={!newGame.game || !newGame.players || selectedGamers.length === 0}\r\n                className=\"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors\"\r\n              >\r\n                <Plus size={16} />\r\n                Add Game\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Summary Statistics\r\n        <div className=\"mt-8 bg-gray-800 rounded-lg shadow-md p-6\">\r\n          <h2 className=\"text-xl font-bold text-white mb-4\">Database Summary</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-blue-600\">{games.length}</div>\r\n              <div className=\"text-sm text-gray-600\">Total Games</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-green-600\">\r\n                {[...new Set(games.flatMap(g => g.gamers))].length}\r\n              </div>\r\n              <div className=\"text-sm text-gray-600\">Unique Gamers</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-orange-600\">\r\n                {games.reduce((sum, g) => sum + g.gamers.length, 0)}\r\n              </div>\r\n              <div className=\"text-sm text-gray-600\">Total Ownerships</div>\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GamesDatabase;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}